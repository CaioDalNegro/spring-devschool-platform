select * from aluno;

select * from professor;

select * from curso;

select * from turma;

select * from turmaAluno;


create table aluno(
	id_aluno uuid PRIMARY KEY,
    email VARCHAR(100) UNIQUE NOT NULL,
    nome VARCHAR(100) NOT NULL,
	senha VARCHAR(100) NOT NULL unique
)


create table professor(
	id_professor uuid PRIMARY KEY,
    email VARCHAR(100) UNIQUE NOT NULL,
    nome VARCHAR(100) NOT NULL,
	senha VARCHAR(100) NOT NULL unique
)


create table curso(
	id_curso uuid primary key,
	nome varchar(100) not null,
	id_professor uuid not null references professor(id_professor)
);


CREATE TABLE turma (
    id_turma UUID PRIMARY KEY,
    id_curso UUID NOT NULL,
    nome_turma VARCHAR(100) NOT NULL,
    qtd_alunos INT DEFAULT 0,
    qtd_desafios INT DEFAULT 0,
    FOREIGN KEY (id_curso) REFERENCES curso(id_curso)
        ON DELETE CASCADE
);


CREATE TABLE turmaAluno (
    id_turma UUID NOT NULL REFERENCES turma(id_turma) ON DELETE CASCADE,
    id_aluno UUID NOT NULL REFERENCES aluno(id_aluno) ON DELETE CASCADE,
    PRIMARY KEY (id_turma, id_aluno)
);


drop table ;
